

<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
      <title>Introdução a API Clima Music</title>
      <link rel="stylesheet" href="css/style.css" />
      <script src="js/all.js"></script>
      <script>
         $(function() {
             setupLanguages(["bash","javascript","php","python"]);
         });
      </script>
   </head>
   <body class="">
      <a href="#" id="nav-button">
      <span>
      NAV
      <img src="images/navbar.png" />
      </span>
      </a>
      <div class="tocify-wrapper">
        <center><img width="150" style="margin-top:20px" src="images/logo.jpg" /></center>
         <div class="lang-selector">
            <a href="#" data-language-name="bash">bash</a>
            <a href="#" data-language-name="javascript">javascript</a>
            <a href="#" data-language-name="php">php</a>
            <a href="#" data-language-name="python">python</a>
         </div>
         <div class="search">
            <input type="text" class="search" id="input-search" placeholder="Search">
         </div>
         <ul class="search-results"></ul>
         <div id="toc">
         </div>
         <ul class="toc-footer">
         </ul>
      </div>
      <div class="page-wrapper">
         <div class="dark-box"></div>
         <div class="content">
            <!-- START_INFO -->
            <h1>Introdução a API Clima Music</h1>
            <p style="font-size:18px">
                O objetivo desta documentação é orientar o desenvolvedor sobre como integrar com o API do Clima Music, API que irá disponibilizar músicas de acordo com a temperatura de uma cidade e gerador de métricas das requisições, descrevendo os serviços disponíveis com exemplos de requisição e respostas.
                <br/><br/>Todas as operações requerem credenciais de acesso (Client ID e Client Secret) específicos para respectivos para comunicação com a API Spotify e key para a API externa <a href="https://openweathermap.org/api" target="new"><b>OpenWeatherMaps</b></a>:
            </p>
            <!-- END_INFO -->
            <h1>general</h1>
            <!-- START_89148c770ad57a1c32f7518d531c2756 -->
            <h2>weather/{city}</h2>
            <p style="font-size:16px">
                irá disponibilizar músicas de acordo com a temperatura de uma cidade.<br/><br/>
                <strong>Parâmetros:</strong> city - Nome da cidade (obrigatório)
            </p>
            <blockquote>
               <p>Exemplo de request:</p>
            </blockquote>
            <pre><code class="language-bash">curl -X GET \
    -G "http://localhost:8888/weather/Campinas" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json"</code></pre>
            <pre><code class="language-javascript">const url = new URL(
    "http://localhost:8888/weather/1"
);

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
};

fetch(url, {
    method: "GET",
    headers: headers,
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
            <pre><code class="language-php">
$client = new \GuzzleHttp\Client();
$response = $client-&gt;get(
    'http://localhost:8888/weather/1',
    [
        'headers' =&gt; [
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre>
            <pre><code class="language-python">import requests
import json

url = 'http://localhost:8888/weather/1'
headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}
response = requests.request('GET', url, headers=headers)
response.json()</code></pre>
<blockquote>
    <p>Exemplo de response: 200</p>
    </blockquote>
<pre><code class="language-json">["Seventeen","The Zephyr Song","Animals","Habits (Stay High) - Hippie Sabotage Remix","Love Me Again","Safe","Nico and the Niners","Still Counting","these are my friends","Boys","Happy?","Kiss and Make Up","Fetish (feat. Gucci Mane)","Young God","Fly Like An Eagle","Team","Glad He's Gone","American Girl","Nightmare","Girls (feat. Cardi B, Bebe Rexha & Charli XCX)"]</code></pre>

            <h3>HTTP Request</h3>
            <p><code>GET weather/{city}</code></p>
            <!-- END_89148c770ad57a1c32f7518d531c2756 -->
            <!-- START_4e9fc3df6ebb2a43640615862b5850b2 -->
            <h2>statistics</h2>
            <blockquote>
               <p>Exemplo de request:</p>
            </blockquote>
            <pre><code class="language-bash">curl -X GET \
    -G "http://localhost:8888/statistics" \
    -H "Content-Type: application/json" \
    -H "Accept: application/json"</code></pre>
            <pre><code class="language-javascript">const url = new URL(
    "http://localhost:8888/statistics"
);

let headers = {
    "Content-Type": "application/json",
    "Accept": "application/json",
};

fetch(url, {
    method: "GET",
    headers: headers,
})
    .then(response =&gt; response.json())
    .then(json =&gt; console.log(json));</code></pre>
            <pre><code class="language-php">
$client = new \GuzzleHttp\Client();
$response = $client-&gt;get(
    'http://localhost:8888/statistics',
    [
        'headers' =&gt; [
            'Content-Type' =&gt; 'application/json',
            'Accept' =&gt; 'application/json',
        ],
    ]
);
$body = $response-&gt;getBody();
print_r(json_decode((string) $body));</code></pre>
            <pre><code class="language-python">import requests
import json

url = 'http://localhost:8888/statistics'
headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json'
}
response = requests.request('GET', url, headers=headers)
response.json()</code></pre>
            <blockquote>
               <p>Exemplo de response (200):</p>
            </blockquote>
            <pre><code class="language-json">{"totalConsultsByCity":[{"city":"Rio de janeiro","total_consultations":23},{"city":"Valinhos","total_consultations":13},{"city":"campinas","total_consultations":1}],"mostHotestCity":[{"city":"Valinhos","city_temperature":50}],"mostColdestCity":[{"city":"Rio de janeiro","city_temperature":-90}],"musicGenresByCity":[{"city":"campinas","music_genres":["rock"]},{"city":"Rio de janeiro","music_genres":["pop","rock"]},{"city":"Valinhos","music_genres":["","classical","gospel","pop","popssssss","rock"]}],"totalMusicGenreByCity":[{"city":"Valinhos","music_genre":"","total_music_genre":1},{"city":"Valinhos","music_genre":"popssssss","total_music_genre":1},{"city":"Valinhos","music_genre":"pop","total_music_genre":6},{"city":"Valinhos","music_genre":"classical","total_music_genre":1},{"city":"Valinhos","music_genre":"gospel","total_music_genre":1},{"city":"Rio de janeiro","music_genre":"pop","total_music_genre":22},{"city":"Rio de janeiro","music_genre":"rock","total_music_genre":1},{"city":"Valinhos","music_genre":"rock","total_music_genre":3},{"city":"campinas","music_genre":"rock","total_music_genre":1}],"totalMusicGenre":[{"music_genre":"","total_music_genre":1},{"music_genre":"popssssss","total_music_genre":1},{"music_genre":"pop","total_music_genre":28},{"music_genre":"classical","total_music_genre":1},{"music_genre":"gospel","total_music_genre":1},{"music_genre":"rock","total_music_genre":5}]}</code></pre>

            <h3>HTTP Request</h3>
            <p><code>GET statistics</code></p>
            <!-- END_4e9fc3df6ebb2a43640615862b5850b2 -->
         </div>
         <div class="dark-box">
            <div class="lang-selector">
               <a href="#" data-language-name="bash">bash</a>
               <a href="#" data-language-name="javascript">javascript</a>
               <a href="#" data-language-name="php">php</a>
               <a href="#" data-language-name="python">python</a>
            </div>
         </div>
      </div>
   </body>
</html>

